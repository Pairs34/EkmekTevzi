unit uDbHelper;

interface

uses
  System.SysUtils, System.Classes, Data.DB, MemDS, DBAccess, Uni, UniProvider,
  SQLiteUniProvider, frxClass, frxDBSet,Vcl.Dialogs, VirtualTable;

type
  TfrmDb = class(TDataModule)
    dbHelper: TUniConnection;
    myQuery: TUniQuery;
    SQLiteUniProvider1: TSQLiteUniProvider;
    tblUser: TUniDataSource;
    qUserList: TUniQuery;
    qHareketx: TUniQuery;
    tblHareketx: TUniDataSource;
    frxUserList: TfrxDBDataset;
    frxHareketList: TfrxDBDataset;
    qKartKapat: TUniQuery;
    qMazeretSil: TUniQuery;
    tblMazeretList: TUniDataSource;
    qMazeretList: TUniQuery;
    AylikHareket: TUniQuery;
    tblAylikHareket: TUniDataSource;
    GunlukHareket: TUniQuery;
    tblGunlukHareket: TUniDataSource;
    qSumBagis: TUniQuery;
    GetAylikRapor: TUniQuery;
    tblAylikRapor: TUniDataSource;
    procedure dbHelperBeforeConnect(Sender: TObject);
    procedure GetAylikRaporAfterOpen(DataSet: TDataSet);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmDb: TfrmDb;

implementation

{%CLASSGROUP 'Vcl.Controls.TControl'}

uses uGlobals;

{$R *.dfm}

procedure TfrmDb.dbHelperBeforeConnect(Sender: TObject);
begin
  dbHelper.Database := Format('%s\database.db',[GetCurrentDir]);
end;

procedure TfrmDb.GetAylikRaporAfterOpen(DataSet: TDataSet);
begin
    ShowMessage(GetAylikRapor.SQL.Text);
end;

end.
